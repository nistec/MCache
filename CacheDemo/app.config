<?xml version="1.0"?>
<configuration>

  <configSections>
    <section name="Netlog" type="Nistec.Logging.NetlogConfig, Nistec.Logger, Version=4.0.2.0, Culture=neutral, PublicKeyToken=734a739868a76423" requirePermission="false"/>
    <section name="RemoteCache" type="Nistec.Caching.Config.CacheConfigClient, Nistec.Cache, Version=4.0.2.0, Culture=neutral, PublicKeyToken=734a739868a76423" requirePermission="false"/>
    <section name="MCache" type="Nistec.Caching.Config.CacheConfigServer, Nistec.Cache, Version=4.0.2.0, Culture=neutral, PublicKeyToken=734a739868a76423" requirePermission="false"/>
  </configSections>

  <Netlog>
    <NetlogSettings>
      <add key="LogFilename" value="D:\Nistec\Services\Logs\CacheClient.log"/>
      <add key="LogLevel" value="Debug|Info|Warn|Error|Trace"/>
      <add key="LogMode" value="File|Console"/>
    </NetlogSettings>
  </Netlog>

 
  <RemoteCache>

    <CacheApiSettings>

      <add key="IsRemoteAsync" value = "false"/>
      <add key="EnableRemoteException" value = "true"/>
      <add key="CacheExpiration" value = "0"/>
      <add key="SessionTimeout" value = "30"/>

    </CacheApiSettings>

    <TcpClientSettings>

      <host HostName="nistec_cache_bundle"
          Address="localhost"
          Port="13000"
          IsAsync="false"
          ConnectTimeout="5000"
          ReadTimeout="5000"
          ReceiveBufferSize="4096"
          SendBufferSize="4096"/>

      <host HostName="nistec_cache_manager"
         Address="localhost"
         Port="13005"
         IsAsync="false"
         ConnectTimeout="5000"
         ReadTimeout="5000"
         ReceiveBufferSize="4096"
         SendBufferSize="4096"/>


    </TcpClientSettings>

    <!--PipeDirection="In|Out|InOut"  PipeOptions="None|WriteThrough|Asynchronous"-->
    <PipeClientSettings>

      <host HostName="nistec_cache_bundle"
      PipeName="nistec_cache_bundle"
      PipeDirection="InOut"
      PipeOptions="None"
      VerifyPipe="nistec_cache_bundle"
      ConnectTimeout="5000"
      ReceiveBufferSize="8192"
      SendBufferSize="8192"/>

      <host HostName="nistec_cache_manager"
      PipeName="nistec_cache_manager"
      PipeDirection="InOut"
      PipeOptions="None"
      VerifyPipe="nistec_cache"
      ConnectTimeout="5000"
      ReceiveBufferSize="8192"
      SendBufferSize="8192"/>

    </PipeClientSettings>


  </RemoteCache>

  <MCache>

    <CacheSettings>
      <!-- Performance -->
      <add key="EnableAsyncTask" value="false"/>
      <add key="EnableSizeHandler" value="false"/>
      <add key="EnablePerformanceCounter" value="false"/>
      <!-- 100 GB -->
      <add key="MaxSize" value="107374182400"/>
      <add key="DefaultExpiration" value="5"/>
      <!-- Logger -->
      <add key="EnableLog" value="false"/>
      <add key="LogMonitorDebugEnabled" value="true"/>
      <add key="LogMonitorCapacityLines" value="1000"/>

      <add key="EnableSyncTypeEventTrigger" value="false"/>
      <add key="EnableSyncTypeEvent" value="false"/>
      <add key="EnableAsyncLoader" value="true"/>
      <add key="AutoResetIntervalHours" value="12"/>



      <!-- Session -->
      <add key="SessionTimeout" value="5"/>
      <add key="MaxSessionTimeout" value="1440"/>

      <!-- sync Interval in seconds-->
      <add key="SyncInterval" value="60"/>
      <add key="SyncBoxInterval" value="60"/>
      <add key="SyncConfigFile" value = ""/>
      <add key="EnableSyncFileWatcher" value = "false"/>
      <add key="ReloadSyncOnChange" value = "true"/>
      <add key="SyncTaskerTimeout" value="60"/>
      <add key="RemoveExpiredItemOnSync" value="true"/>
      <add key="DbConfigFile" value = ""/>

      <!-- Protocol NA|Tcp|Pipe|Http-->
      <add key="RemoteCacheProtocol" value = "NA"/>
      <add key="SyncCacheProtocol" value = "Pipe"/>
      <add key="SessionCacheProtocol" value = "NA"/>
      <add key="DataCacheProtocol" value = "NA"/>
      <add key="CacheManagerProtocol" value = "Pipe"/>

      <!-- Formatter One of  NA|Binary|Json Binary is default-->
      <add key="TcpBundleFormatter" value = "Binary"/>
      <add key="PipeBundleFormatter" value = "Binary"/>
      <add key="HttpBundleFormatter" value = "Binary"/>

    </CacheSettings>

    <TcpServerSettings>

      <host HostName="nistec_cache_bundle"
         Address="localhost"
         Port="13000"
         IsAsync="false"
         ConnectTimeout="5000"
         ReadTimeout="5000"
         ReceiveBufferSize="4096"
         SendBufferSize="4096"
         MaxSocketError="50"
         MaxServerConnections="1"/>

      <host HostName="nistec_cache_manager"
         Address="localhost"
         Port="13005"
         IsAsync="false"
         ConnectTimeout="5000"
         ReadTimeout="5000"
         ReceiveBufferSize="4096"
         SendBufferSize="4096"
         MaxSocketError="50"
        MaxServerConnections="1"/>
    </TcpServerSettings>

    <PipeServerSettings>


      <host HostName="nistec_cache_bundle"
         ServerName="."
         PipeName="nistec_cache_bundle"
         IsAsync="false"
         PipeDirection="InOut"
         PipeOptions="None"
         VerifyPipe="nistec_cache"
         ConnectTimeout="500000"
         ProcessTimeout="5000"
         ReceiveBufferSize="8192"
         SendBufferSize="8192"
         MaxServerConnections="1"
         MaxAllowedServerInstances="255"/>

      <host HostName="nistec_cache_manager"
          ServerName="."
          PipeName="nistec_cache_manager"
          IsAsync="false"
          PipeDirection="InOut"
          PipeOptions="None"
          VerifyPipe="nistec_cache"
          ConnectTimeout="5000"
          ProcessTimeout="5000"
          ReceiveBufferSize="8192"
          SendBufferSize="8192"
          MaxServerConnections="1"
          MaxAllowedServerInstances="255"/>

    </PipeServerSettings>

    <HttpServerSettings>

      <host HostName="nistec_cache_bundle"
         Address="http://localhost/"
         Port="13010"
         Method="get"
         ConnectTimeout="5000"
         ReadTimeout="0"
         MaxErrors="50"
         MaxServerConnections="1"/>

    </HttpServerSettings>


  </MCache>

  <connectionStrings>
    <add name="AdventureWorks" connectionString="Data Source=NISTEC-PC;Initial Catalog=AdventureWorks;Integrated Security=True;" providerName="System.Data.SqlClient" />
    <add name="EnterpriseDB" connectionString="Data Source=NISTEC-PC;Initial Catalog=EnterpriseDB;Integrated Security=True;" providerName="System.Data.SqlClient" />
  </connectionStrings>
 <!-- 
  <connectionStrings>
    <add name="AdventureWorks" connectionString="Data Source=62.219.21.58; Initial Catalog=AdventureWorks; User ID=???; Password=????; Connection Timeout=30" providerName="SqlServer"/>
  </connectionStrings>
 --> 
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0"/>
  </startup>
</configuration>
